# Language Coverage Map

## Overview

This document maps all languages supported by LangViz, showing their coverage across:
- **Data Sources**: Available Kaikki.org data files
- **Phylogenetic Tree**: Inclusion in the phylogeny service
- **ISO 639 Codes**: Standard language identifiers

Last updated: 2025-11-01

---

## Summary Statistics

| Family | Languages in Tree | Languages with Data | Coverage |
|--------|------------------|---------------------|----------|
| **Indo-European** | 50 | 48 | 96% |
| **Dravidian** | 4 | 4 | 100% |
| **Uralic** | 3 | 3 | 100% |
| **TOTAL** | **57** | **55** | **96%** |

---

## Indo-European Family

### Romance (7 languages)

| Language | ISO | Tree | Kaikki Data | Status |
|----------|-----|------|-------------|--------|
| Latin | la | ✅ | ❌ (Perseus XML) | ✅ Complete |
| Spanish | es | ✅ | ✅ | ✅ Complete |
| Portuguese | pt | ✅ | ✅ | ✅ Complete |
| French | fr | ✅ | ✅ | ✅ Complete |
| Italian | it | ✅ | ✅ | ✅ Complete |
| Romanian | ro | ✅ | ✅ | ✅ Complete |
| Catalan | ca | ✅ | ✅ | ✅ Complete |

### Germanic (10 languages)

| Language | ISO | Tree | Kaikki Data | Status |
|----------|-----|------|-------------|--------|
| English | en | ✅ | ✅ | ✅ Complete |
| German | de | ✅ | ✅ | ✅ Complete |
| Dutch | nl | ✅ | ✅ | ✅ Complete |
| Swedish | sv | ✅ | ✅ | ✅ Complete |
| Danish | da | ✅ | ✅ | ✅ Complete |
| Norwegian | no | ✅ | ✅ | ✅ Complete |
| Icelandic | is | ✅ | ✅ | ✅ Complete |
| Afrikaans | af | ✅ | ✅ | ✅ Complete |
| Yiddish | yi | ✅ | ✅ | ✅ Complete |
| Faroese | fo | ✅ | ✅ | ✅ Complete |

### Slavic (11 languages)

| Language | ISO | Tree | Kaikki Data | Status |
|----------|-----|------|-------------|--------|
| Russian | ru | ✅ | ✅ | ✅ Complete |
| Ukrainian | uk | ✅ | ✅ | ✅ Complete |
| Belarusian | be | ✅ | ✅ | ✅ Complete |
| Polish | pl | ✅ | ✅ | ✅ Complete |
| Czech | cs | ✅ | ✅ | ✅ Complete |
| Slovak | sk | ✅ | ✅ | ✅ Complete |
| Bulgarian | bg | ✅ | ✅ | ✅ Complete |
| Macedonian | mk | ✅ | ✅ | ✅ Complete |
| Slovene | sl | ✅ | ✅ (slovene.jsonl) | ✅ Complete |
| Croatian | hr | ✅ | ✅ (serbocroatian.jsonl) | ✅ Complete |
| Serbian | sr | ✅ | ✅ (serbocroatian.jsonl) | ✅ Complete |

### Indo-Iranian (10 languages)

#### Indo-Aryan (Indic)
| Language | ISO | Tree | Kaikki Data | Status |
|----------|-----|------|-------------|--------|
| Sanskrit | sa | ✅ | ❌ (Need source) | ⚠️ Missing Data |
| Hindi | hi | ✅ | ✅ | ✅ Complete |
| Urdu | ur | ✅ | ✅ | ✅ Complete |
| Bengali | bn | ✅ | ✅ | ✅ Complete |
| Punjabi | pa | ✅ | ✅ | ✅ Complete |
| Marathi | mr | ✅ | ❌ (Need) | ⚠️ Missing Data |
| Gujarati | gu | ✅ | ❌ (Need) | ⚠️ Missing Data |

#### Iranian
| Language | ISO | Tree | Kaikki Data | Status |
|----------|-----|------|-------------|--------|
| Persian | fa | ✅ | ✅ | ✅ Complete |
| Pashto | ps | ✅ | ✅ | ✅ Complete |
| Kurdish | ku | ✅ | ✅ (northern_kurdish.jsonl) | ✅ Complete |
| Tajik | tg | ✅ | ✅ | ✅ Complete |

### Celtic (5 languages)

| Language | ISO | Tree | Kaikki Data | Status |
|----------|-----|------|-------------|--------|
| Irish | ga | ✅ | ✅ | ✅ Complete |
| Scottish Gaelic | gd | ✅ | ✅ (scottish_gaelic.jsonl) | ✅ Complete |
| Welsh | cy | ✅ | ✅ | ✅ Complete |
| Breton | br | ✅ | ✅ | ✅ Complete |
| Manx | gv | ✅ | ✅ | ✅ Complete |

### Baltic (2 languages)

| Language | ISO | Tree | Kaikki Data | Status |
|----------|-----|------|-------------|--------|
| Lithuanian | lt | ✅ | ✅ | ✅ Complete |
| Latvian | lv | ✅ | ✅ | ✅ Complete |

### Hellenic (2 languages)

| Language | ISO | Tree | Kaikki Data | Status |
|----------|-----|------|-------------|--------|
| Greek (Modern) | el | ✅ | ✅ (greek.jsonl) | ✅ Complete |
| Ancient Greek | grc | ✅ | ❌ (Perseus XML) | ✅ Complete |

### Other IE Branches (3 languages)

| Language | ISO | Tree | Kaikki Data | Status |
|----------|-----|------|-------------|--------|
| Albanian | sq | ✅ | ✅ | ✅ Complete |
| Armenian | hy | ✅ | ✅ | ✅ Complete |

---

## Dravidian Family

| Language | ISO | Tree | Kaikki Data | Status |
|----------|-----|------|-------------|--------|
| Tamil | ta | ✅ | ✅ | ✅ Complete |
| Telugu | te | ✅ | ✅ | ✅ Complete |
| Kannada | kn | ✅ | ✅ | ✅ Complete |
| Malayalam | ml | ✅ | ✅ | ✅ Complete |

**Family Root**: `proto_dravidian`  
**Branches**: South-Dravidian I (Tamil, Malayalam, Kannada), South-Central (Telugu)

---

## Uralic Family

| Language | ISO | Tree | Kaikki Data | Status |
|----------|-----|------|-------------|--------|
| Finnish | fi | ✅ | ✅ | ✅ Complete |
| Estonian | et | ✅ | ✅ | ✅ Complete |
| Hungarian | hu | ✅ | ✅ | ✅ Complete |

**Family Root**: `proto_uralic`  
**Branches**: Finnic (Finnish, Estonian), Ugric (Hungarian)

---

## Cross-Family Distance Handling

The phylogenetic tree properly handles cross-family comparisons:

| Comparison Type | Distance | Prior | Use Case |
|----------------|----------|-------|----------|
| Same language | 0 | 1.0 | Identity |
| Same sub-branch | 1-2 | 0.3-0.4 | Close relatives |
| Same branch | 3-4 | 0.15 | Distant relatives |
| Different branches (same family) | 5-10 | 0.03-0.08 | IE cognates |
| **Cross-family** | **15** | **0.001** | **Loanwords only** |
| Unknown language | 999 | 0.001 | Fallback |

---

## Missing Data Requirements

### High Priority
1. **Sanskrit** (sa) - Critical for Indo-Aryan reconstruction
   - Need: Monier-Williams digital source
   - Impact: Essential for IE etymology

2. **Marathi** (mr) - Major Indo-Aryan language
   - Need: Kaikki data or alternative source
   - Speakers: 83M

3. **Gujarati** (gu) - Major Indo-Aryan language
   - Need: Kaikki data or alternative source
   - Speakers: 56M

### Ancient Languages (Future)
- Old Church Slavonic (chu) - Slavic reconstruction
- Gothic (got) - Germanic reconstruction
- Avestan (ae) - Iranian reconstruction
- Old Irish (sga) - Celtic reconstruction (eDIL source available)

---

## File Name Mappings

Some Kaikki files use different naming conventions:

| Language | ISO | Kaikki Filename |
|----------|-----|-----------------|
| Scottish Gaelic | gd | `scottish_gaelic.jsonl` |
| Northern Kurdish | ku | `northern_kurdish.jsonl` |
| Serbo-Croatian | hr/sr | `serbocroatian.jsonl` |
| Slovene | sl | `slovene.jsonl` |

---

## Usage in Code

### Get Language Family
```python
from backend.services.phylogeny import PhylogeneticTree

tree = PhylogeneticTree()

# Check if language is known
family = tree.get_family('ta')  # Returns: "dravidian"
family = tree.get_family('en')  # Returns: "indo-european"
family = tree.get_family('fi')  # Returns: "uralic"
family = tree.get_family('xyz')  # Returns: None

# Get branch within family
branch = tree.get_branch('en')  # Returns: "west_germanic"
branch = tree.get_branch('ta')  # Returns: "south_dravidian_i"
```

### Compute Distances
```python
# Within same family
dist = tree.path_distance('en', 'de')  # 2 (same sub-branch)
dist = tree.path_distance('en', 'ru')  # 8 (different branches)

# Cross-family
dist = tree.path_distance('en', 'ta')  # 15 (IE vs Dravidian)
dist = tree.path_distance('fi', 'ta')  # 15 (Uralic vs Dravidian)

# Unknown language
dist = tree.path_distance('en', 'xyz')  # 999 (unknown)
```

---

## Validation Checklist

- [x] All Kaikki data files mapped to ISO codes
- [x] All ISO codes present in phylogenetic tree
- [x] Cross-family distances handled correctly
- [x] Unknown language fallback implemented
- [x] Logging added for unknown languages
- [ ] Download missing Marathi/Gujarati data
- [ ] Add Sanskrit source
- [ ] Verify all ISO codes match data loader expectations

---

## Notes

1. **Serbo-Croatian**: Both Croatian (hr) and Serbian (sr) map to the same Kaikki file due to their mutual intelligibility.

2. **Cross-Family Loanwords**: The system correctly assigns very low cognate priors (0.001) for cross-family comparisons, but still computes semantic and phonetic similarity to detect loanwords.

3. **Unknown Languages**: The system logs warnings for unknown languages but continues processing using semantic and phonetic similarity only.

4. **Tree Depth**: Maximum tree depth is 3 (e.g., PIE → Slavic → East Slavic → Russian), which allows fine-grained phylogenetic priors.

5. **Future Expansion**: The system is designed to easily add new language families (e.g., Afro-Asiatic, Sino-Tibetan) by adding new tree builders.

